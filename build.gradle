buildscript {
    ext.kotlinVersion = "1.0.3"

    repositories {
        jcenter()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:2.2.0-rc2"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
    }
}

ext.kotlinSourceDir = "src/main/kotlin"

subprojects {
    if (project.name != "app") {
        apply plugin: "java"
        apply plugin: "kotlin"
        sourceCompatibility = JavaVersion.VERSION_1_7

        sourceSets {
            main.java.srcDirs += kotlinSourceDir
        }

        dependencies {
            compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
        }
    }

    repositories {
        mavenCentral()
    }
}
